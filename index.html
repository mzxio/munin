<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Munin</title>
  <link rel="stylesheet" href="style.css" type="text/css" />
  <link rel="manifest" href="/manifest.json"> <!--type="application/manifest+json">-->
  <!-- https://learn.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/how-to/web-app-manifests -->
  <!-- Crow icon by Bakunetsu Kaito from https://thenounproject.com/icon/crow-1125211/ -->

</head>

<body>

  <div>
    <img src="/assets/crow/crow-simple-512.png" class="badge" />
  </div>
  
  <!-- editor modal -->
  <div id="cardEditModal" style="display: none;">
    <!-- editor ui -->
    <div id="cardEdit">

    <div class="flexmenu">
      <button id="editCancel" onclick="editCancel();">X</button>
      <span id="editTextLength">0</span>
      <button id="editSend" onclick="addCardEdits();" disabled>re-send it</button>
    </div>

    <textarea id="editText" maxlength="450" placeholder="write something"></textarea>

    <div class="flexmenu">
      <input id="editTitle" type="text" autocomplete="off" maxlength="80" placeholder="title"></input>
      <input id="editPip" type="text" autocomplete="off" maxlength="4" placeholder="pip"></input>
    </div>

    <div class="flexmenu">
      <input id="editRelated" type="text" autocomplete="off" maxlength="450" placeholder="related, ..."></input>
    </div>

    <div class="flexmenu">
      <input id="editPrev" type="text" placeholder="prev"></input>
      <span>&nbsp;</span>
      <input id="editNext" type="text" placeholder="next"></input>
    </div>

    <!-- todo images update
    <input type="text" placeholder="front image"></input>
    <input type="text" placeholder="font image alt"></input>
    <input type="text" placeholder="back image"></input>
    <input type="text" placeholder="back image alt"></input>
    -->

    </div>
  </div>
  
  <!-- composer ui -->
  <div id="cardComp" style="display: block;">

    <div class="flexmenu">
      <button id="newCancel" onclick="newCancel();" disabled>X</button>
      <span id="newTextLength">0</span>
      <button id="newSend" onclick="addCard();" disabled>send it</button>
    </div>

    <textarea id="newText" maxlength="450" placeholder="write something"></textarea>

    <div class="flexmenu">
      <input id="newTitle" type="text" autocomplete="off" maxlength="80" placeholder="title"></input>
      <input id="newPip" type="text" autocomplete="off" maxlength="4" placeholder="pip"></input>
    </div>

    <div class="flexmenu">
      <input id="newRelated" type="text" autocomplete="off" maxlength="450" placeholder="related, ..."></input>
    </div>

  </div>

  <!-- view controls ui -->
  <br/>
  <div class="flexmenu centered noprint">
    <button id="viewMenuToggle" onclick="menuToggle();">â‰¡</button>
  </div>

  <form id="viewMenu" style="display: none;">
    <br/>
    <div class="flexmenu centered">
      <p>
        <input type="checkbox" id="new" checked></input>
        <label for="new">Compose</label>
        <br/>
        <input type="checkbox" id="meta" checked></input>
        <label for="meta">Meta</label>
        <br/>
        <input type="checkbox" id="tools" checked></input>
        <label for="tools">Tools</label>
        <br/>
        <input type="checkbox" id="share"></input>
        <label for="share">Share</label>
      </p>
      <p>
        <label for="show">Show</label>
        <select id="show">
          <option selected>All</option>
          <option>54</option>
          <option>26</option>
          <option>13</option>
        </select>
        <br/>
        <label for="sort">Sort</label>
        <select id="sort">
          <option selected>Newest to oldest</option>
          <option>Oldest to newest</option>
        </select>
        <br/>
        <label for="view">View</label>
        <select id="view">
          <option>Timeline</option>
          <option>Cards</option>
          <option>Print</option>
          <option>Relations</option>
          <option>Graph</option>
        </select>
      </p>
    </div>

    <br/>
    <!-- the deep magic -->
    <div class="flexmenu centered">
      <label>Deck</label>
      <button onclick="exportDeck();">export</button>&nbsp;
      <button onclick="importDeck();">import</button>&nbsp;
      <button onclick="clearDeck();" class="trash">clear</button>
    </div>    

  </form>
  
  <!-- deck view ui -->
  <div id="deckModal" style="display: block;">
    <!-- display tools -->
    <!--
    <div id="deckMenu" class="flexmenu centered">
      <select id="deckSort">
        <option>newest first</option>
        <option>oldest first</option>
      </select>  
    </div>
    -->
    <div id="deckView">
      <!-- field where cards will be rendered -->
    </div>
  </div>

  <!-- experimenting with image encoding
  <canvas id="canvas"></canvas>
  -->
  
  <script src="script.js"></script>

</body>
</html>